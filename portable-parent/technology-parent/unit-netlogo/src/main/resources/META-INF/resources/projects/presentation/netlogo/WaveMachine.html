<html>
<head>
<title>WaveMachine</title>
<style type="text/css">
<!--
  :link { color: rgb(110, 0, 110); } 
  :visited { color: rgb(110, 0, 110); } 
  body { margin-left: 5px; font-family: arial, sans-serif; 
         background: white; font-size: 12pt } 
  h2 { background: rgb(166,172,255); 
       font-size: 15pt; 
       padding-left: 6px; padding-right: 6px; padding-top: 6px; 
       padding-bottom: 6px; } 
  p { margin-left: 10px; } 
  pre { margin-left: 13px; background: rgb(225,225,225); 
        font-family: monospace; padding-left: 3px; padding-right: 3px; 
        padding-top: 3px; padding-bottom: 3px; } 
-->
</style>
</head>
<body>

<p>This page was automatically generated by NetLogo 4.1.
Questions, problems?  Contact <a href="mailto:feedback@ccl.northwestern.edu">feedback@ccl.northwestern.edu</a>.</p>

<p>The applet requires Java 5 or higher.
Java must be enabled in your browser settings.
Mac users must have Mac OS X 10.4 or higher.
Windows and Linux users may obtain the latest Java from
<a href="http://java.sun.com/getjava/download.html">Sun's Java site</a>.</p>

<p><hr>

<p><font size="-1">In order for this to work, this file, your model file
(WaveMachine.nlogo), and the file NetLogoLite.jar
must all be in the same directory.  (You can copy NetLogoLite.jar
from the directory where you installed NetLogo.)</font></p>

<p><font size="-1">On some systems, you can test the applet locally on your computer
before uploading it to a web server.  It doesn't work on all systems,
though, so if it doesn't work from your hard drive, please try
uploading it to a web server.</font></p>

<p><font size="-1">You don't need to include everything in this file in your page.
If you want, you can just take the HTML code beginning with
&lt;applet&gt; and ending with &lt;/applet&gt;, and paste it into any HTML
file you want.  It's even OK to put multiple &lt;applet&gt; tags
on a single page.</font></p>

<p><font size="-1">If NetLogoLite.jar and your model are in different
directories, you must modify the archive= and value= lines
in the HTML code to point to their actual locations.
(For example, if you have multiple applets in different
directories on the same web server, you may want to put 
a single copy of NetLogoLite.jar in one central place and
change the archive= lines of all the HTML files to point
to that one central copy.  This will save disk space for
you and download time for your users.)</font></p>

<p>
<applet code="org.nlogo.lite.Applet"
        archive="NetLogoLite.jar"
        width="821" height="537">
  <param name="DefaultModel"
         value="WaveMachine.nlogo">
</applet>
</p>

<p>powered by
<a target="_blank" href="http://ccl.northwestern.edu/netlogo/">NetLogo</a></p>

<p>view/download model file:
<a href="WaveMachine.nlogo">WaveMachine.nlogo</a>
</p>
<h2>WHAT IS IT?</h2>
<p>This model simulates wave motion in a membrane. The four edges of the membrane are fixed to a frame. A green rectangular area represents a driver plate that moves up and down, exhibiting sinusoidal motion.</p><br>
<h2>HOW TO USE IT</h2>
<p>Controls of membrane properties:</p>
<p>The FRICTION slider controls the amount of friction or attenuation in the membrane. The STIFFNESS slider controls the force exerted on a turtle by a unit deflection difference between the turtle and its four neighbors.</p>
<p>Controls of the driving force:</p>
<p>The DRIVER-FREQUENCY slider controls the frequency at which the green area of the membrane (the driving force) moves up and down. The DRIVER-AMPLITUDE slider controls the maximum height of the green area of the membrane.</p>
<p>The DRIVER-X and DRIVER-Y sliders control the position of the driver. The DRIVER-SIZE slider controls the size of the driver.</p>
<p>Controls for viewing:</p>
<p>The THREE-D? switch controls the view point of the projection.  OFF is for the top view (2-D looking down), and ON gives an isometric view, at an angle chosen with the VIEW-ANGLE slider.</p><br>
<h2>THINGS TO TRY</h2>
<p>Click the SETUP button to set up the membrane. Click GO to make the selected area of the membrane (the green turtles) begin moving up and down.</p><br>
<h2>THINGS TO NOTICE</h2>
<p>The membrane is made up of lines of turtles. Each turtle acts as it were connected to its four neighboring turtles by springs. In this model, turtles move only up and down -- the force's direction IS only up and down. The greater the distance between a turtle and its neighbors, the stronger the force.</p>
<p>When the green turtles move up, they &quot;pull up&quot; the turtles which are their neighbors, which in turn pull up the turtles which are their neighbors, and so on. In that way, a wave moves along the membrane. When the wave reaches the edges of the membrane (the blue turtles), the wave is reflected back to the center of the membrane.</p>
<p>The amplitude of the green turtles is fixed regardless of the stiffness of the membrane. However, moving a stiff membrane requires a lot more force to move it the same amount as an unstiff membrane. So even as the stiffness of the membrane is increased, the wave height will remain the same because the amplitude is kept the same.</p><br>
<h2>THINGS TO TRY</h2>
<p>Try different membranes. Soft membranes have smaller stiffness values and hard membranes have larger stiffness values.</p>
<p>Try different driving forces, or try changing the frequency or amplitude. It is very interesting to change the size and the position of the driving force to see symmetrical and asymmetrical wave motions.</p>
<p>Try to create a &quot;standing wave,&quot; in which some points in the membrane do not move at all.</p><br>
<h2>EXTENDING THE MODEL</h2>
<p>In this model, the movement of the turtles is only in the vertical direction, perpendicular to the membrane. Modify the model such that the movement is within the membrane plane, i.e. the x-y plane.</p>
<p>You can also try to add additional driving forces to make a multi-input membrane model. Another thing you can try is to apply different waveforms to the driving-force to see how the membrane reacts to different inputs. Try changing the overall shape of the driving force.</p>
<p>Try to build a solid model, that is, a model of waveforms within all three dimensions.</p>
<p>Instead of using amplitude to create the wave, change it to apply a fixed amount of force continuously.</p><br>
<h2>NETLOGO FEATURES</h2>
<p>Note the use of the TURTLES-ON reporter to find turtles on neighboring patches.</p>
<p>A key step in developing this model was to create an internal coordinate system. X, Y, and Z are just three turtles-own variables. You can imagine that turtles are situated in and move around in 3-space.  But to display the turtles in the view, which is two-dimensional, the turtle's three coordinates must be mapped into two.</p>
<p>In the 2-D view, the turtle's x and y coordinates are translated directly to NetLogo coordinates, and the z coordinate is indicated only by varying the color of the turtle using the SCALE-COLOR primitive.</p>
<p>In the 3-D view, an isometric projection is used to translate x, y, and z (the turtle's real position) to xcor and ycor (its position in the view).  In this projection, a  point in the world may correspond to more than one point in the 3-dimensional coordinate system.  Thus in this projection we still vary the color of the turtle according to its z position, to help the eye discriminate.</p>
<p>In the 3-D version, it does not make sense for the turtles to &quot;wrap&quot; if they reach the top or bottom of the world nor does it make sense for them to remain at the top of the world, so turtles are hidden if their computed ycor exceeds the boundaries of the world.</p><br>
<h2>CREDITS AND REFERENCES</h2>
<p>Thanks to Weiguo Yang for his help with this model.</p><br>
<h2>HOW TO CITE</h2>
<p>If you mention this model in an academic publication, we ask that you include these citations for the model itself and for the NetLogo software:<br>- Wilensky, U. (1997).  NetLogo Wave Machine model.  <a href="http://ccl.northwestern.edu/netlogo/models/WaveMachine">http://ccl.northwestern.edu/netlogo/models/WaveMachine</a>.  Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.<br>- Wilensky, U. (1999). NetLogo. <a href="http://ccl.northwestern.edu/netlogo/">http://ccl.northwestern.edu/netlogo/</a>. Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.</p>
<p>In other publications, please use:<br>- Copyright 1997 Uri Wilensky. All rights reserved. See <a href="http://ccl.northwestern.edu/netlogo/models/WaveMachine">http://ccl.northwestern.edu/netlogo/models/WaveMachine</a> for terms of use.</p><br>
<h2>COPYRIGHT NOTICE</h2>
<p>Copyright 1997 Uri Wilensky. All rights reserved.</p>
<p>Permission to use, modify or redistribute this model is hereby granted, provided that both of the following requirements are followed:<br>a) this copyright notice is included.<br>b) this model will not be redistributed for profit without permission from Uri Wilensky. Contact Uri Wilensky for appropriate licenses for redistribution for profit.</p>
<p>This model was created as part of the project: CONNECTED MATHEMATICS: MAKING SENSE OF COMPLEX PHENOMENA THROUGH BUILDING OBJECT-BASED PARALLEL MODELS (OBPML).  The project gratefully acknowledges the support of the National Science Foundation (Applications of Advanced Technologies Program) -- grant numbers RED #9552950 and REC #9632612.</p>
<p>This model was converted to NetLogo as part of the projects: PARTICIPATORY SIMULATIONS: NETWORK-BASED DESIGN FOR SYSTEMS LEARNING IN CLASSROOMS and/or INTEGRATED SIMULATION AND MODELING ENVIRONMENT. The project gratefully acknowledges the support of the National Science Foundation (REPP &amp; ROLE programs) -- grant numbers REC #9814682 and REC-0126227. Converted from StarLogoT to NetLogo, 2001.</p><br>
<h2>PROCEDURES</h2>
<pre><font color="#007f69">globals</font><font color="#000000"> [
  membrane-edge-x  </font><font color="#5a5a5a">;; horizontal distance from center to edge of membrane</font><font color="#000000">
  membrane-edge-y  </font><font color="#5a5a5a">;; vertical distance from center to edge of membrane</font><font color="#000000">
]

</font><font color="#007f69">turtles-own</font><font color="#000000"> [
  edge?            </font><font color="#5a5a5a">;; are we on the edge of the membrane?</font><font color="#000000">
  driver?          </font><font color="#5a5a5a">;; are we part of the green driving plate?</font><font color="#000000">
  x                </font><font color="#5a5a5a">;; position on x axis in space</font><font color="#000000">
  y                </font><font color="#5a5a5a">;; position on y axis in space</font><font color="#000000">
  z                </font><font color="#5a5a5a">;; position on z axis in space</font><font color="#000000">
  velocity         </font><font color="#5a5a5a">;; velocity along z axis</font><font color="#000000">
  neighbor-turtles </font><font color="#5a5a5a">;; agentset of turtles adjacent to us</font><font color="#000000">
]

</font><font color="#007f69">to</font><font color="#000000"> setup
  </font><font color="#0000aa">clear-all</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> membrane-edge-x </font><font color="#660096">floor</font><font color="#000000"> (</font><font color="#660096">max-pxcor</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">)
  </font><font color="#0000aa">set</font><font color="#000000"> membrane-edge-y </font><font color="#660096">floor</font><font color="#000000"> (</font><font color="#660096">max-pycor</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">)
  </font><font color="#0000aa">set-default-shape</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">&quot;circle&quot;</font><font color="#000000">
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [(</font><font color="#660096">abs</font><font color="#000000"> </font><font color="#660096">pxcor</font><font color="#000000"> </font><font color="#660096">&lt;=</font><font color="#000000"> membrane-edge-x) </font><font color="#660096">and</font><font color="#000000">
                    (</font><font color="#660096">abs</font><font color="#000000"> </font><font color="#660096">pycor</font><font color="#000000"> </font><font color="#660096">&lt;=</font><font color="#000000"> membrane-edge-y)]
    [ </font><font color="#0000aa">sprout</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
        [ </font><font color="#0000aa">set</font><font color="#000000"> edge? (</font><font color="#660096">abs</font><font color="#000000"> </font><font color="#660096">xcor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> membrane-edge-x) </font><font color="#660096">or</font><font color="#000000">
                    (</font><font color="#660096">abs</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> membrane-edge-y)
          </font><font color="#0000aa">if</font><font color="#000000"> edge? [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">blue</font><font color="#000000"> ]
          </font><font color="#0000aa">set</font><font color="#000000"> driver? (</font><font color="#660096">abs</font><font color="#000000"> (</font><font color="#660096">xcor</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> driver-x) </font><font color="#660096">&lt;=</font><font color="#000000"> driver-size) </font><font color="#660096">and</font><font color="#000000">
                      (</font><font color="#660096">abs</font><font color="#000000"> (</font><font color="#660096">ycor</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> driver-y) </font><font color="#660096">&lt;=</font><font color="#000000"> driver-size)
          </font><font color="#0000aa">if</font><font color="#000000"> driver? [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> ]
          </font><font color="#0000aa">set</font><font color="#000000"> x </font><font color="#660096">xcor</font><font color="#000000">
          </font><font color="#0000aa">set</font><font color="#000000"> y </font><font color="#660096">ycor</font><font color="#000000">
          </font><font color="#0000aa">set</font><font color="#000000"> z </font><font color="#963700">0</font><font color="#000000">
          </font><font color="#0000aa">set</font><font color="#000000"> velocity </font><font color="#963700">0</font><font color="#000000">
          recolor ] ]
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
    [ </font><font color="#0000aa">set</font><font color="#000000"> neighbor-turtles </font><font color="#660096">turtles-on</font><font color="#000000"> </font><font color="#660096">neighbors4</font><font color="#000000"> ]
  project
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> recolor  </font><font color="#5a5a5a">;; turtle procedure</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> edge? </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> driver?
    [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">scale-color</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000"> z </font><font color="#963700">-20</font><font color="#000000"> </font><font color="#963700">20</font><font color="#000000"> ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> go
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">not</font><font color="#000000"> driver? </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> edge?]
    [ propagate ]
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
    [ </font><font color="#0000aa">ifelse</font><font color="#000000"> driver?
        [ </font><font color="#0000aa">set</font><font color="#000000"> z (driver-amplitude </font><font color="#660096">*</font><font color="#000000"> (</font><font color="#660096">sin</font><font color="#000000"> (</font><font color="#963700">0.1</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> driver-frequency </font><font color="#660096">*</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000">))) ]
        [ </font><font color="#0000aa">set</font><font color="#000000"> z (z </font><font color="#660096">+</font><font color="#000000"> velocity)
          recolor ] ]
  project
  </font><font color="#0000aa">tick</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> propagate   </font><font color="#5a5a5a">;; turtle procedure -- propagates the wave from neighboring turtles</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> velocity (velocity </font><font color="#660096">+</font><font color="#000000">
                 (stiffness </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">0.01</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000">
                   (</font><font color="#660096">sum</font><font color="#000000"> [z] </font><font color="#660096">of</font><font color="#000000"> neighbor-turtles
                    </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> z)))
  </font><font color="#0000aa">set</font><font color="#000000"> velocity (((</font><font color="#963700">1000</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> friction) </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">1000</font><font color="#000000">) </font><font color="#660096">*</font><font color="#000000"> velocity)
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;;; procedures for displaying in 2-D or 3-D</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> project
  </font><font color="#0000aa">ifelse</font><font color="#000000"> three-d?
    [ project-3d ]
    [ project-2d ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> project-3d
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> [
    </font><font color="#0000aa">let</font><font color="#000000"> xc (x </font><font color="#660096">+</font><font color="#000000"> (</font><font color="#660096">cos</font><font color="#000000"> view-angle) </font><font color="#660096">*</font><font color="#000000"> y)
    </font><font color="#0000aa">let</font><font color="#000000"> yc (z </font><font color="#660096">+</font><font color="#000000"> (</font><font color="#660096">sin</font><font color="#000000"> view-angle) </font><font color="#660096">*</font><font color="#000000"> y)
    </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">patch-at</font><font color="#000000"> (xc </font><font color="#660096">-</font><font color="#000000"> </font><font color="#660096">xcor</font><font color="#000000">) (yc </font><font color="#660096">-</font><font color="#000000"> </font><font color="#660096">ycor</font><font color="#000000">) </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">nobody</font><font color="#000000">
    [ </font><font color="#0000aa">setxy</font><font color="#000000">  xc yc
      </font><font color="#0000aa">show-turtle</font><font color="#000000"> ]
    [ </font><font color="#0000aa">hide-turtle</font><font color="#000000"> ]
    recolor
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> project-2d
  </font><font color="#5a5a5a">;; Set our viewable x and y coordinates to be the same as our real</font><font color="#000000">
  </font><font color="#5a5a5a">;; coordinates.  This is only needed for if the user turns THREE-D?</font><font color="#000000">
  </font><font color="#5a5a5a">;; off while the model is running.</font><font color="#000000">
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
    [ </font><font color="#0000aa">setxy</font><font color="#000000"> x y
      recolor
      </font><font color="#0000aa">show-turtle</font><font color="#000000"> ]
</font><font color="#007f69">end</font><font color="#000000">


</font><font color="#5a5a5a">; Copyright 1997 Uri Wilensky. All rights reserved.</font><font color="#000000">
</font><font color="#5a5a5a">; The full copyright notice is in the Information tab.</font><font color="#000000">
</font>
</pre>

</body>
</html>
